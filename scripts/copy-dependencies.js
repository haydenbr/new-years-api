const path = require('path');
const util = require('./script-utilities');

module.exports = () => {
	const packageJson = util.getPackageJson();

	let dependenciesFilepath = path.resolve(__dirname, '..', 'docker', 'package.json');
	let newPackageJson = {
		description:
			'This file is autogenerated after each version bump. Do not manually edit or throw away this file. It is used for streamlining dev environment and optimizing pipeline builds',
		dependencies: packageJson.dependencies,
		devDependencies: packageJson.devDependencies,
		resolutions: packageJson.resolutions,
	};

	return util.writeFile(dependenciesFilepath, JSON.stringify(newPackageJson, null, 4));
};
